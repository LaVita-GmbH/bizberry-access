scopes:
  services:
    - key: access
      resources:
        - key: users
          actions:
            - key: request_transaction_token
              internal: true
            - key: impersonate
              critical: true
              selectors:
                - key: others
            - key: impersionation
              internal: true
              selectors:
                - key: restricted
            - key: create
            - key: read
              selectors:
                - key: own
                - key: any
            - key: update
              selectors:
                - key: own
                - key: any
        - key: tenants
          actions:
            - key: create
            - key: read
            - key: update

    - key: customer
      resources:
        - key: clients
          actions:
            - key: create
              selectors:
                - key: any
            - key: read
              selectors:
                - key: own
                - key: any
            - key: update
              selectors:
                - key: own
                - key: any
            - key: delete
              selectors:
                - key: any
                - key: own
        - key: addresses
          actions:
            - key: create
              selectors:
                - key: norelact
                - key: own
                - key: any
            - key: read
              selectors:
                - key: norelact
                - key: own
                - key: any
            - key: update
              selectors:
                - key: norelact
                - key: own
                - key: any
            - key: delete
              selectors:
                - key: norelact
                - key: own
                - key: any
        - key: contacts
          actions:
            - key: create
              selectors:
                - key: norelact
                - key: own
                - key: any
            - key: read
              selectors:
                - key: norelact
                - key: own
                - key: any
            - key: update
              selectors:
                - key: norelact
                - key: own
                - key: any
            - key: delete
              selectors:
                - key: norelact
                - key: own
                - key: any

    - key: catalogue
      resources:
        - key: categories
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: active
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any
        - key: products
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: active
                - key: terminated
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any
        - key: pricelists
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: default
                - key: assigned
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any

    - key: finance
      resources:
        - key: accounts
          actions:
            - key: create
              selectors:
                - key: any
                - key: own
                - key: norelact
            - key: read
              selectors:
                - key: any
                - key: own
                - key: norelact
            - key: update
              selectors:
                - key: any
                - key: own
                - key: norelact
            - key: delete
              selectors:
                - key: any
                - key: own
                - key: norelact
        - key: taxes
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: active
                - key: terminated
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any
        - key: providers
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: active
                - key: terminated
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any

    - key: checkout
      resources:
        - key: carts
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: act
            - key: update
              selectors:
                - key: any
                - key: act
            - key: delete
              selectors:
                - key: any
                - key: act
        - key: transactions
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: act
            - key: update
              selectors:
                - key: any
                - key: act
            - key: delete
              selectors:
                - key: any
                - key: act

    - key: shipping
      resources:
        - key: carriers
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: active
                - key: terminated
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any

    - key: notification
      resources:
        - key: categories
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: active
            - key: delete
              selectors:
                - key: any
        - key: templates
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any
        - key: messages
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: own
            - key: update
              selectors:
                - key: any
                - key: own
            - key: delete
              selectors:
                - key: any
                - key: own

    - key: activity
      resources:
        - key: categories
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: active
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any
        - key: events
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: public
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any
        - key: attendances
          actions:
            - key: create
              selectors:
                - key: any
                - key: own
            - key: read
              selectors:
                - key: any
                - key: own
            - key: update
              selectors:
                - key: any
                - key: own
            - key: delete
              selectors:
                - key: any
                - key: own

    - key: commission
      resources:
        - key: schemas
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: assigned
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any
        - key: structures
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: assigned
            - key: update
              selectors:
                - key: any
            - key: delete
              selectors:
                - key: any
        - key: partners
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: own
            - key: update
              selectors:
                - key: any
                - key: own
            - key: delete
              selectors:
                - key: any
                - key: own
        - key: rules
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: own
            - key: update
              selectors:
                - key: any
                - key: own
            - key: delete
              selectors:
                - key: any
                - key: own
        - key: bookings
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: own
            - key: update
              selectors:
                - key: any
                - key: own
            - key: delete
              selectors:
                - key: any
                - key: own
        - key: statements
          actions:
            - key: create
            - key: read
              selectors:
                - key: any
                - key: own
            - key: update
              selectors:
                - key: any
                - key: own
            - key: delete
              selectors:
                - key: any
                - key: own

roles:
  - key: default
    is_default: true
    scopes:
      - code: access.users.read.own
      - code: access.users.update.own
      - code: access.tenants.read
      - code: customer.clients.read.own
      - code: customer.clients.update.own
      - code: customer.contacts.create.own
      - code: customer.contacts.read.own
      - code: customer.contacts.update.own
      - code: customer.addresses.create.own
      - code: customer.addresses.read.own
      - code: customer.addresses.update.own
      - code: customer.addresses.delete.own
      - code: catalogue.pricelists.read.assigned
      - code: catalogue.categories.read.active
      - code: catalogue.products.read.active
      - code: checkout.carts.create
      - code: checkout.carts.read.act
      - code: checkout.carts.update.act
      - code: checkout.carts.delete.act
      - code: shipping.carriers.read.active
      - code: finance.taxes.read.active
      - code: finance.providers.read.active
      - code: finance.accounts.create.own
      - code: finance.accounts.read.own
      - code: finance.accounts.update.own
      - code: finance.accounts.delete.own
      - code: checkout.transactions.read.act
      - code: checkout.transactions.update.act
      - code: notification.categories.read.active
      - code: notification.messages.read.own
      - code: notification.messages.update.own
      - code: notification.messages.delete.own

  - key: partner
    included_roles:
      - key: default
    scopes:
      - code: commission.schemas.read.assigned
      - code: commission.structures.read.assigned
      - code: commission.partners.read.own
      - code: commission.rules.read.own
      - code: commission.bookings.read.own
      - code: commission.statements.read.own

  - key: admin
    scopes:
      - code: access.users.create
      - code: access.users.read.any
      - code: access.users.update.any
      - code: access.tenants.create
      - code: access.tenants.update
      - code: customer.clients.create.any
      - code: customer.clients.read.any
      - code: customer.clients.update.any
      - code: customer.clients.delete.any
      - code: customer.contacts.create.any
      - code: customer.contacts.read.any
      - code: customer.contacts.update.any
      - code: customer.contacts.delete.any
      - code: customer.addresses.create.any
      - code: customer.addresses.read.any
      - code: customer.addresses.update.any
      - code: customer.addresses.delete.any
      - code: catalogue.products.create
      - code: catalogue.products.read.any
      - code: catalogue.products.update.any
      - code: catalogue.products.delete.any
      - code: catalogue.categories.create
      - code: catalogue.categories.read.any
      - code: catalogue.categories.update.any
      - code: catalogue.categories.delete.any
      - code: catalogue.pricelists.create
      - code: catalogue.pricelists.read.any
      - code: catalogue.pricelists.update.any
      - code: catalogue.pricelists.delete.any
      - code: finance.providers.create
      - code: finance.providers.read.any
      - code: finance.providers.update.any
      - code: finance.providers.delete.any
      - code: finance.taxes.create
      - code: finance.taxes.read.any
      - code: finance.taxes.update.any
      - code: finance.taxes.delete.any
      - code: finance.accounts.create.any
      - code: finance.accounts.read.any
      - code: finance.accounts.update.any
      - code: finance.accounts.delete.any
      - code: checkout.transactions.create
      - code: checkout.transactions.read.any
      - code: checkout.transactions.update.any
      - code: checkout.transactions.delete.any
      - code: checkout.carts.read.any
      - code: checkout.carts.update.any
      - code: checkout.carts.delete.any
      - code: shipping.carriers.create
      - code: shipping.carriers.read.any
      - code: shipping.carriers.update.any
      - code: shipping.carriers.delete.any
      - code: notification.categories.create
      - code: notification.categories.read.any
      - code: notification.categories.delete.any
      - code: notification.templates.create
      - code: notification.templates.read.any
      - code: notification.templates.update.any
      - code: notification.templates.delete.any
      - code: notification.messages.create
      - code: notification.messages.read.any
      - code: notification.messages.update.any
      - code: notification.messages.delete.any
      - code: activity.categories.create
      - code: activity.categories.read.any
      - code: activity.categories.update.any
      - code: activity.categories.delete.any
      - code: activity.events.create
      - code: activity.events.read.any
      - code: activity.events.update.any
      - code: activity.events.delete.any
      - code: activity.attendances.create.any
      - code: activity.attendances.read.any
      - code: activity.attendances.update.any
      - code: activity.attendances.delete.any
      - code: commission.schemas.create
      - code: commission.schemas.read.any
      - code: commission.schemas.update.any
      - code: commission.schemas.delete.any
      - code: commission.structures.create
      - code: commission.structures.read.any
      - code: commission.structures.update.any
      - code: commission.structures.delete.any
      - code: commission.partners.create
      - code: commission.partners.read.any
      - code: commission.partners.update.any
      - code: commission.partners.delete.any
      - code: commission.rules.create
      - code: commission.rules.read.any
      - code: commission.rules.update.any
      - code: commission.rules.delete.any
      - code: commission.bookings.create
      - code: commission.bookings.read.any
      - code: commission.bookings.update.any
      - code: commission.bookings.delete.any
      - code: commission.statements.create
      - code: commission.statements.read.any
      - code: commission.statements.update.any
      - code: commission.statements.delete.any
    included_roles:
      - key: default
      - key: partner

  - key: consumer
    scopes:
      - code: access.users.create
      - code: access.tenants.read
      - code: customer.addresses.create.norelact
      - code: customer.addresses.read.norelact
      - code: customer.addresses.update.norelact
      - code: customer.addresses.delete.norelact
      - code: customer.contacts.create.norelact
      - code: customer.contacts.read.norelact
      - code: customer.contacts.update.norelact
      - code: customer.contacts.delete.norelact
      - code: catalogue.pricelists.read.default
      - code: catalogue.categories.read.active
      - code: catalogue.products.read.active
      - code: checkout.carts.create
      - code: checkout.carts.read.act
      - code: checkout.carts.update.act
      - code: checkout.carts.delete.act
      - code: shipping.carriers.read.active
      - code: finance.taxes.read.active
      - code: finance.providers.read.active
      - code: finance.accounts.create.norelact
      - code: finance.accounts.read.norelact
      - code: finance.accounts.update.norelact
      - code: finance.accounts.delete.norelact
      - code: checkout.transactions.read.act
      - code: checkout.transactions.update.act
      - code: checkout.carts.create
      - code: checkout.carts.read.act
      - code: checkout.carts.update.act
      - code: checkout.carts.delete.act
